services:
  mars_search.search_helper:
    class: Drupal\mars_search\Processors\SearchHelper
    arguments: ['@entity_type.manager', '@logger.factory', '@request_stack', '@mars_search.facet_process']
    tags:
      - { name: mars_search.search_processor}
  mars_search.search_query_parser:
    class: Drupal\mars_search\Processors\SearchQueryParser
    arguments: ['@request_stack']
    tags:
      - { name: mars_search.search_processor}
  mars_search.facet_process:
    class: Drupal\mars_search\Processors\SearchTermFacetProcess
    arguments: ['@entity_type.manager', '@request_stack']
    tags:
      - { name: mars_search.search_processor}
  mars_search.search_builder:
    class: Drupal\mars_search\Processors\SearchBuilder
    arguments: ['@entity_type.manager', '@menu.link_tree', '@mars_common.theme_configurator_parser', '@config.factory', '@mars_search.search_factory']
    tags:
      - { name: mars_search.search_processor}
  mars_search.search_factory:
    class: Drupal\mars_search\SearchProcessFactory
    tags:
      - { name: service_collector, tag: 'mars_search.search_processor', call: addProcessManager }
