services:
  lighthouse.client:
    class: '\Drupal\mars_lighthouse\Client\LighthouseClient'
    arguments: ['@http_client', '@mars_lighthouse.config', '@logger.factory', '@lighthouse.auth_token_provider']
  lighthouse.adapter:
    class: '\Drupal\mars_lighthouse\Controller\LighthouseAdapter'
    arguments: ['@lighthouse.client', '@cache.default', '@file_system', '@config.factory', '@entity_type.manager']
  lighthouse.base_api_abstract:
    class: '\Drupal\mars_lighthouse\Client\LighthouseBaseApiAbstract'
    arguments: ['@http_client', '@mars_lighthouse.config', '@logger.factory']
  lighthouse.auth_token_provider:
    class: '\Drupal\mars_lighthouse\Client\LighthouseAuthTokenProvider'
    arguments: ['@http_client', '@mars_lighthouse.config', '@logger.factory', '@state']
  mars_lighthouse.config_defaults_provider:
    class: '\Drupal\mars_lighthouse\Client\LighthouseDefaultsProvider'
    arguments:
      ['@settings']
  mars_lighthouse.config_factory:
    class: '\Drupal\mars_lighthouse\Client\LighthouseConfigurationFactory'
    arguments: ['@mars_lighthouse.config_defaults_provider', '@config.factory']
  mars_lighthouse.config:
    class: 'Drupal\mars_lighthouse\Client\LighthouseConfiguration'
    factory: mars_lighthouse.config_factory:createConfiguration
  mars_lighthouse.sync:
    class: '\Drupal\mars_lighthouse\LighthouseSyncService'
    arguments: ['@queue', '@entity_type.manager']
