services:
  mars_product.product_helper:
    class: Drupal\mars_product\ProductHelper
    arguments:
      [ '@mars_common.language_helper' ]

  mars_product.product_twig_filters:
    class: Drupal\mars_product\Twig\ProductFilters
    arguments:
      [ '@mars_product.product_helper' ]
    tags:
      - { name: twig.extension }

  mars_product.content_pair_dependency_calculator:
    class: Drupal\mars_product\EventSubscriber\DependencyCollector\ContentPairUpBlockCollector
    arguments: ['@entity_type.manager']
    tags:
      - { name: event_subscriber }

  mars_product.load_local_entity.product:
    class: Drupal\mars_product\EventSubscriber\LoadLocalEntity\ProductMatch
    arguments: ['@entity_type.manager']
    tags:
      - { name: event_subscriber }

  mars_product.enqueue_entity.product:
    class: Drupal\mars_product\EventSubscriber\EnqueueEntity\EnqueueProducts
    arguments: ['@acquia_contenthub.settings']
    tags:
      - { name: event_subscriber }

  mars_product.unserialize_content_field.layout_builder_field:
    class: Drupal\mars_product\EventSubscriber\UnserializeContentField\LayoutBuilderFieldBlocksUnserializer
    arguments: ['@entity_type.manager']
    tags:
      - { name: event_subscriber }
