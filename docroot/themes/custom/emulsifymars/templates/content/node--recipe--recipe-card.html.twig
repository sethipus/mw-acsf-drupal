{#
/**
 * @file
 * Template for the Recipe Card component.
 */
#}

{% set image_src = file_url(content.field_recipe_image[0]['#media'].image.entity.fileuri) %}
{% set image_alt = content.field_recipe_image[0]['#media'].image.0.alt %}
{% set recipe_is_new = node.field_recipe_new.0.value == 1 ? true : false %}

{% include "@molecules/card/recipe-card/recipe-card.twig" with {
  theme_styles: 'drupal',
  recipe_is_new: recipe_is_new,
  recipe_card_image_src: image_src,
  recipe_card_image_alt: image_alt ,
  recipe_card_media_url: url,
  recipe_card_heading: node.label,
  recipe_card_heading_level: 3,
  recipe_card_heading_base_class: 'recipe-card-heading',
  recipe_card_minutes_number: content.field_recipe_cooking_time['#items'].0.value,
  recipe_card_minutes_base_class: 'recipe-card-time',
  recipe_card_minutes_size: 'large',
  recipe_card_minutes_modifiers: ['xs'],
  recipe_card_items_number: content.field_recipe_ingredients_number['#items'].0.value,
  recipe_card_items_base_class: 'recipe-card-items',
  recipe_card_items_size: 'large',
  recipe_card_items_modifiers: ['xs'],
  recipe_card_button_text: 'see details'|t,
  recipe_card_button_modifiers: ['small'],
  recipe_card_button_link_attributes: {
    href: url,
    target: '_blank'
  },
  label_for_cooking_time: node.field_recipe_cooking_time.fieldDefinition.label,
  label_for_ingredients: node.field_recipe_ingredients.fieldDefinition.label,
} %}
