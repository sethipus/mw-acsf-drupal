{#
/**
 * @file
 * Homepage hero component (video variant).
 * 'label' => NULL
 * 'eyebrow' => NULL,
 * 'cta_url' => NULL,
 * 'cta_title' => NULL,
 * 'title_url' => NULL,
 * 'title_label' => NULL,
 * 'block_type' => NULL
 * 'background_default' => []
 * 'background_image' => NULL,
 * 'background_video' => NULL,
 * 'blocks' => [],
 */
#}
{{ attach_library('emulsifymars/ambient-video') }}

{% if block_type == 'video' %}

  {% include "@molecules/homepage-hero/video/homepage-hero-video.twig" with {
    theme_styles: 'drupal',
    eyebrow: eyebrow,
    title_label: title_label,
    title_href: title_url,
    cta_title: cta_title,
    cta_link_attributes: cta_url,
    cta_base_class: 'cta-link',
    cta_border_radius: '30',
    video__src__url: background_video,
  } %}

{% elseif (block_type == 'image') or (block_type == 'default') %}

  {% set background_srcset = '%s 375w, %s 768w, %s 1024w, %s 1440w' |
    format(background_image, background_image, background_image, background_image) %}

  {% set hero_image = {
    'srcset': background_srcset,
    'src': background_image}
  %}

  {% include "@molecules/homepage-hero/standard/homepage-hero-standard.twig" with {
    theme_styles: 'drupal',
    eyebrow: eyebrow,
    title_label: title_label,
    title_href: title_url,
    cta_title: cta_title,
    cta_link_attributes: cta_url,
    cta_base_class: 'cta-link',
    cta_border_radius: '30',
    image_srcset: background_srcset,
    image_src: background_image,
  } %}

{% endif %}

{% for block in blocks %}
  {% include "@molecules/homepage-hero/3up/homepage-hero-block.twig" with {
    separate_class: 'block-' ~ loop.index,
    block_eyebrow_text: block.eyebrow,
    block_title_label: block.title_label,
    block_title_href: block.title_href,
    block_image: block.image.0,
    cta_block: block.cta.0
  } %}
{% endfor %}
