{{ attach_library('emulsifymars/flexible-framer') }}

{% set related_recipes__base_class = 'flexible-framer' %}
{% set border_overflow = overlaps_previous ? '' : 'no-overflow' %}

{% set divider = '<div class=divider>'~divider~'</div>' %}
<section {{ bem(related_recipes__base_class) }} data-theme="{{ theme_styles }}"
  {% if select_background_color|length > 0 %}
    style="background-color: {{ 'var(' ~ select_background_color ~ ')' }}"
  {% endif %}
>
  {% if brand_borders is not empty %}
    {% block brand_border %}
      <div {{  bem('border', [border_overflow], related_recipes__base_class)  }}>
        {{ brand_borders | raw }}
      </div>
    {% endblock %}
  {% endif %}

  {% include "@organisms/grid/grid-ff.twig" with {
    grid_label: grid_label,
    grid_type: grid_type,
    divider: divider,
    item_type: item_type,
    items: items,
    brand_shape: brand_shape
  } %}
</section>
