{{ attach_library('emulsifymars/media-carousel') }}
{% set carousel_base_class = carousel_base_class|default('carousel') %}

<section {{ bem(carousel_base_class) }} data-theme="{{ theme_styles }}">
  <div {{ bem('heading', [], carousel_base_class) }}>
    {% include "@atoms/text/headings/_heading.twig" with {
      heading_level: 1,
      heading_base_class: 'carousel__heading',
      heading_modifiers: ['main-heading'],
      heading: heading
    } %}
  </div>

  <div class="swiper-container carousel-container">
    <div class="swiper-wrapper">
      {% for item in items %}
        <div class="swiper-slide">
          {% if item.image %}
            {% include "@atoms/images/image/_image.twig" with {
              image_base_class: base_class,
              image_modifiers: image_modifiers,
              image_blockname: image_blockname,
              image_src: item.src,
              image_alt: item.alt,
              image_title: item.title,
            } %}
          {% elseif item.video %}
            {% include "@atoms/video/overlay-video/video.twig" with {
              video__src__url: item.src
            } %}
            <button {{ bem('control', [], 'video') }} id="fullscreen-play" type="button" data-state="play"><div {{ bem('control', ['inner'], 'video') }}/></button>
          {% endif %}
        </div>
      {% endfor %}
    </div>
    <div {{ bem('divider', [], carousel_base_class) }} >
      {{ brand_borders | raw }}
    </div>
    <div class="swiper-button-prev" id="swiper-button"></div>
    <div class="swiper-button-next" id="swiper-button"></div>
    <div class="swiper-scrollbar"></div>
  </div>
  <div {{ bem('content', [], carousel_base_class) }}>
    <div class="swiper-container carousel-description-container">
      <div class="swiper-wrapper">
        {% for item in items %}
          <div class="swiper-slide">
            {% include "@atoms/text/text/01-paragraph.twig" with {
              paragraph_size: paragraph_size,
              paragraph_content: item.content,
              paragraph_base_class: paragraph_base_class,
              paragraph_modifiers: paragraph_modifiers
            } %}
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>
