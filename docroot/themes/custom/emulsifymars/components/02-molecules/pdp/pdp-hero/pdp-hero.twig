{{ attach_library('emulsifymars/pdp-hero') }}
{% set pdp_hero_base_class = pdp_hero_base_class|default('pdp-hero') %}
{% set pdp_main_image = image_items|first.images|first %}
{% set pdp_side_images = image_items|first.images[1:] %}

<section id="pdp-hero" {{ bem(pdp_hero_base_class) }} data-theme="{{ theme_styles }}">
  <div {{ bem('container', [], pdp_hero_base_class) }}>
    <div {{ bem('content-container', [], pdp_hero_base_class) }}>
      {% include "@atoms/text/headings/_heading.twig" with {
        heading_level: 5,
        heading: product_label,
        heading_blockname: pdp_hero_base_class,
        heading_base_class: 'product-label',
      } %}
      {% include "@atoms/text/headings/_heading.twig" with {
        heading_level: 2,
        heading: product_name,
        heading_blockname: pdp_hero_base_class,
        heading_base_class: 'product-name',
      } %}
      <div {{ bem('size-container', [], pdp_hero_base_class) }}>
        {% include "@atoms/text/text/08-span.twig" with {
          span_content: size_label,
          span_base_class: 'size-label',
          span_blockname: pdp_hero_base_class,
        } %}
        <ul {{ bem('size-list', [], pdp_hero_base_class)}}>
          {% for size_item in size_items %}
            <li {{ bem('list-item', [], pdp_hero_base_class)}}>
              {% include "@atoms/links/link/link.twig" with {
                link_base_class: 'list-item--link',
                link_blockname: pdp_hero_base_class,
                link_content: size_item.title,
                link_url: size_item.link_url,
                link_attributes: size_item.size_attributes,
              } %}
            </li>
          {% endfor %}
        </ul>
      </div>
      <div {{ bem('content-mobile', [], pdp_hero_base_class) }}>
        <div {{ bem('main-image-container', [], pdp_hero_base_class) }}>
          {% include "@atoms/images/image/responsive-image.twig" with {
            image_alt: pdp_main_image.image.alt,
            image_srcset: pdp_main_image.image.srcset,
            image_sizes: '(max-width: 375px) 375px,
                (max-width: 768px) 768px,
                (max-width: 1024px) 1024px,
                1440px',
            image_src: image_items|first.image.src,
              responsive_image_base_class: 'main-image',
            responsive_image_blockname: pdp_hero_base_class,
          } %}
        </div>
        <div {{ bem('sections-container', [], pdp_hero_base_class) }}>
          <ul {{ bem('sections-list', [], pdp_hero_base_class)}}>
            {% for section_item in mobile_sections_items %}
              <li {{ bem('sections-item', [], pdp_hero_base_class)}}>
                {% include "@atoms/links/defaultLink/defaultLink.twig" with {
                  default_link_content: section_item.title,
                  default_link_url: section_item.link_url,
                  default_link_border_radius: section_item.border_radius,
                  default_link_attributes: section_item.link_attributes,
                  default_link_modifiers: ['pdp-sections'],
                } %}
              </li>
            {% endfor %}
          </ul>
        </div>

        {% include "@atoms/links/defaultLink/defaultLink.twig" with {
          default_link_content: product_CTA_title,
          default_link_border_radius: product_CTA_border_radius,
          default_link_attributes: product_CTA_link_attributes,
          default_link_modifiers: ['pdp-hero'],
        } %}
        <div {{ bem('side-image-container', [], pdp_hero_base_class) }}>
          {% for item in pdp_side_images %}
            {% include "@atoms/images/image/responsive-image.twig" with {
              image_alt: item.image.alt,
              image_srcset: item.image.srcset,
              image_sizes: '(max-width: 375px) 375px,
                  (max-width: 768px) 768px,
                  (max-width: 1024px) 1024px,
                  1440px',
              image_src: item.image.src,
              responsive_image_base_class: 'side-image',
              responsive_image_blockname: pdp_hero_base_class,
            } %}
          {% endfor %}
        </div>
      </div>

      {% include "@atoms/text/text/01-paragraph.twig" with {
        paragraph_content: product_description,
        paragraph_base_class: 'description',
        paragraph_blockname: pdp_hero_base_class,
      } %}
      {% include "@atoms/links/defaultLink/defaultLink.twig" with {
        default_link_content: product_CTA_title,
        default_link_border_radius: product_CTA_border_radius,
        default_link_attributes: product_CTA_link_attributes,
        default_link_modifiers: ['pdp-desktop', 'pdp-hero'],
      } %}
    </div>
    {% for size_item in image_items %}
      <div {{ bem('slider-container', [], pdp_hero_base_class) }} data-slider-size-active={{size_item.active}} data-slider-size-id={{size_item.size_id}}>
        <div class="swiper-container pdp-hero-swiper-container">
          <div class="swiper-wrapper">
              {% for image_item in size_item.images %}
                {% include "@molecules/slide/pdp-hero-slide/pdp-hero-slide.twig" with { item: image_item } %}
              {% endfor %}
          </div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-control" tabindex="0"><a href="#" class="playpause-icon"></a></div>
      </div>
    {% endfor %}
  </div>
</section>
