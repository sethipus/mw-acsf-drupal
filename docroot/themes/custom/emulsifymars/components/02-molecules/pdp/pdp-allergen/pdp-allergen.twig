{% set pdp_allergen_base_class = pdp_allergen_base_class|default('pdp-allergen') %}

<section {{ bem(pdp_allergen_base_class) }} data-theme="{{ theme_styles }}">
  {% set header_modifiers = multipack ? 'multipack' : 'singlepack' %}
  {% include "@atoms/text/headings/_heading.twig" with {
    heading_level: 5,
    heading: allergen_label,
    heading_blockname: pdp_allergen_base_class,
    heading_modifiers: [header_modifiers],
    heading_base_class: 'header',
  } %}

  <div {{ bem('container', [], pdp_allergen_base_class) }}>
    {% for allergen_item in allergen_items %}
      <div {{ bem('allergen-column', [], pdp_allergen_base_class) }}>
        <div {{ bem('allergen-icon-container', [], pdp_allergen_base_class) }}>
          {% include "@atoms/images/image/_image.twig" with {
            image_base_class: pdp_allergen_base_class,
            image_blockname: 'allergen-icon',
            image_src: allergen_item.allergen_icon,
            image_alt: allergen_item.allergen_label,
          } %}
        </div>
        {% include "@atoms/text/text/07-span.twig" with {
          span_content: allergen_item.allergen_label,
          span_base_class: 'allergen-label',
          span_blockname: pdp_allergen_base_class,
        } %}
      </div>
    {% endfor %}
  </div>
</section>
