{{ attach_library('emulsifymars/recipe-hero-module') }}
{% set recipe_template__base_class = 'recipe-detail' %}
{% set icon_clock = icon_clock|default('/' ~ base_path ~ directory ~ '/images/icons/clock.svg') %}
{% set icon_ingredients = icon_ingredients|default('/' ~ base_path ~ directory ~ '/images/icons/ingredients.svg') %}
{% set icon_makes = icon_makes|default('/' ~ base_path ~ directory ~'/images/icons/makes.svg') %}
{% set icon_border = icon_border|default('/' ~ base_path ~ directory ~'/images/twix-border-white.svg') %}

<div class="recipe-header" data-theme="{{ theme_styles }}">
  <div class="recipe-header__title">{{ "Recipe" | t }}</div>
  <div class="recipe-header__text">{{ recipe_header_text }}</div>
</div>
<div class="recipe-media" data-theme="{{ theme_styles }}">
  {% if video_src %}
    {% block recipe_media_video %}
      {% include "@atoms/video/ambient-video/video.twig" with {
        video__src__url: video_src,
        video__base_class: 'ambient-video',
        video__title: recipe_header_text,
        video__control: true,
      } %}
    {% endblock %}
  {% else %}
    <div class="recipe-media__image-wrapper" style="background-image: url('{{ image_srcset }}')">
    </div>
  {% endif %}
  <div class="recipe-media__info">
    <div class="{{ brand_shape_class }}">
      {{ brand_borders | raw }}
    </div>
    <div class="recipe-details">
      <div class="recipe-details-item">
        <div class="recipe-details-item__icon-container">
          {% include "@atoms/images/image/_image.twig" with {
            image_base_class: 'recipe-details-item__icon',
            image_modifiers: ['clock'],
            image_src: icon_clock,
          } %}
        </div>
        <div class="recipe-details-item__info">
          <div class="recipe-details-item__label">{{ 'Time'|t }}</div>
          <div class="recipe-details-item__value">{{ recipe_cooking_time ~ ' mins'|t}}</div>
        </div>
      </div>
      <div class="recipe-details-item">
        <div class="recipe-details-item__icon-container">
          {% include "@atoms/images/image/_image.twig" with {
            image_base_class: 'recipe-details-item__icon',
            image_modifiers: ['ingredients'],
            image_src: icon_ingredients,
          } %}
        </div>
        <div class="recipe-details-item__info">
          <div class="recipe-details-item__label">{{ 'Ingredients'|t }}</div>
          <div class="recipe-details-item__value">{{ recipe_ingredients_number ~ ' items'|t}}</div>
        </div>
      </div>
      <div class="recipe-details-item">
        <div class="recipe-details-item__icon-container">
          {% include "@atoms/images/image/_image.twig" with {
            image_base_class: 'recipe-details-item__icon',
            image_modifiers: ['makes'],
            image_src: icon_makes,
          } %}
        </div>
        <div class="recipe-details-item__info">
          <div class="recipe-details-item__label">{{ 'Makes'|t }}</div>
          <div class="recipe-details-item__value">{{ recipe_number_of_servings ~ ' servings'|t}}</div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="recipe-info" data-theme="{{ theme_styles }}">
  <div class="recipe-info__text">{{ recipe_description_text }}</div>
  <div class="recipe-info__social">
    <div class="recipe-info__social-text">Share</div>
    {% block recipe_social_menu %}
      {% include "@molecules/menus/social/social-menu.twig" with {
        social_menu_items: social_menu_items,
      } %}
    {% endblock %}
  </div>
</div>
